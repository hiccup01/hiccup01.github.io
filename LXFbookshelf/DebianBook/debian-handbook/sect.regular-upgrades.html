<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.7. Keeping a System Up to Date</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.0" /><meta name="package" content="Debian-debian-handbook-6.0-en-US-1.0-1" /><meta name="keywords" content="apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link rel="home" href="index.html" title="The Debian Administrator's Handbook" /><link rel="up" href="apt.html" title="Chapter 6. Maintenance and Updates: The APT Tools" /><link rel="prev" href="sect.dist-upgrade.html" title="6.6. Upgrading from One Stable Distribution to the Next" /><link rel="next" href="sect.automatic-upgrades.html" title="6.8. Automatic Upgrades" /></head><body><p class="hidden" id="title"><a class="left" href="http://www.debian.org"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://debian-handbook.info"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.dist-upgrade.html"><strong>Prev</strong></a></li><li class="home">The Debian Administrator's Handbook</li><li class="next"><a accesskey="n" href="sect.automatic-upgrades.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h2 class="title" id="sect.regular-upgrades">6.7. Keeping a System Up to Date</h2></div></div></div><div class="para"><p></p>
			The Debian distribution is dynamic and changes continually. Most of the changes are in the <span class="distribution distribution">Testing</span> and <span class="distribution distribution">Unstable</span> versions, but even <span class="distribution distribution">Stable</span> is updated from time to time, mostly for security-related fixes. Whatever version of Debian a system runs, it is generally a good idea to keep it up to date, so that you can get the benefit of recent evolutions and bug fixes.
		</div><div class="para"><p></p>
			While it is of course possible to periodically run a tool to check for available updates and run the upgrades, such a repetitive task is tedious, especially when it needs to be performed on several machines. Fortunately, like many repetitive tasks, it can be partly automated, and a set of tools have already been developed to that effect.
		</div><div class="para"><p></p>
			The first of these tools is <code class="command">apticron</code>, in the package of the same name. Its main effect is to run a script daily (via <code class="command">cron</code>). The script updates the list of available packages, and, if some installed packages are not in the latest available version, it sends an email with a list of these packages along with the changes that have been made in the new versions. Obviously, this package mostly targets users of Debian <span class="distribution distribution">Stable</span>, since the daily emails would be very long for the more mobile versions of Debian. When updates are available, <code class="command">apticron</code> automatically downloads them. It does not install them — the administrator will still do it — but having the packages already downloaded and available locally (in APT's cache) makes the job faster.
		</div><div class="para"><p></p>
			Administrators in charge of several computers will no doubt appreciate being informed of pending upgrades, but the upgrades themselves are still as tedious as they used to be, which is where the <code class="filename">/etc/cron.daily/apt</code> script (in the <span class="pkg pkg">apt</span> package) comes in handy. This script is also run daily (and non-interactively) by <code class="command">cron</code>. To control its behavior, use APT configuration variables (which are therefore stored in a file under <code class="filename">/etc/apt/apt.conf.d/</code>). The main three variables are:
		</div><div class="variablelist"><dl><dt class="varlistentry"><span class="term"> <code class="literal">APT::Periodic::Update-Package-Lists</code> </span></dt><dd><div class="para"><p></p>
						This option allows you to specify the frequency (in days) at which the package lists are refreshed. <code class="command">apticron</code> users can do without this variable, since <code class="command">apticron</code> already does this task.
					</div></dd><dt class="varlistentry"><span class="term"> <code class="literal">APT::Periodic::Download-Upgradeable-Packages</code> </span></dt><dd><div class="para"><p></p>
						Again, this option indicates a frequency (in days), this time for the downloading of the actual packages. Again, <code class="command">apticron</code> users won't need it.
					</div></dd><dt class="varlistentry"><span class="term"> <code class="literal">APT::Periodic::AutocleanInterval</code> </span></dt><dd><div class="para"><p></p>
						This last option covers a feature that <code class="command">apticron</code> doesn't have. It controls how often obsolete packages (those not referenced by any distribution anymore) are removed from the APT cache. This keeps the APT cache at a reasonable size and means that you don't need to worry about that task.
					</div></dd></dl></div><div class="para"><p></p>
			Other options can allow you to control the cache cleaning behavior with more precision. They are not listed here, but they are described in the <code class="filename">/etc/cron.daily/apt</code> script.
		</div><div class="para"><p></p>
			These tools work very well for servers, but desktop users generally prefer a more interactive system. That is why the “Graphical desktop environment” task installs <code class="command">update-notifier</code> and <code class="command">update-manager</code>. The former displays an icon in the notification area of desktop environments when updates are available; clicking on this icon then runs <code class="command">update-manager</code>, a simplified interface to perform updates. You can browse through available updates, read the description of the relevant packages and their <code class="filename">changelog</code>, and select whether to apply the update or not on a case-by-case basis. Note that these packages contain configuration data for <code class="filename">/etc/cron.daily/apt</code> so that it refreshes the lists of available packages and downloads the relevant ones. The <code class="command">update-notifier</code>/<code class="command">update-manager</code> combination is far from having as many features as <code class="command">aptitude</code> and <code class="command">synaptic</code>, since it only handles the upgrades of packages which are already installed; as a consequence, its minimalistic interface leaves little room for mistakes, and therefore little risk of breaking the system.
		</div><div class="figure"><div class="figure-contents"><div class="mediaobject"><img src="images/update-manager.png" alt="Upgrading with update-manager" /></div></div><h6>Figure 6.3. Upgrading with <code class="command">update-manager</code></h6></div><br class="figure-break" /></div><div id="site_footer"></div><script type="text/javascript">
		$("#site_footer").load("../../../../../footer.html");
	</script><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.dist-upgrade.html"><strong>Prev</strong>6.6. Upgrading from One Stable Distribution to th...</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="sect.automatic-upgrades.html"><strong>Next</strong>6.8. Automatic Upgrades</a></li></ul></body></html>
